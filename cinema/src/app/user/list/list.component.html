<div class="container-fluid">
  <div class="row">
    <div class="col-lg-2">
      <!--      <app-left-side-bar></app-left-side-bar>-->
    </div>
    <div class="col-lg-10" style="padding-left: 0">
      <nav class="navbar navbar-light">

        <form class="form-inline" [formGroup]="searchForm">
          <input class="form-control mr-sm-2" type="search" placeholder="Mã thành viên"
                 aria-label="Search" formControlName="code">
          <input class="form-control mr-sm-2" type="search" placeholder="Tên thành viên"
                 aria-label="Search" formControlName="name">
          <input class="form-control mr-sm-2" type="search" placeholder="Số điện thoại"
                 aria-label="Search" formControlName="phone">
          <button class="btn btn-success " style="background: #058af0; margin-left: 7px"
                  type="submit" (click)="searchUser()">Tìm kiếm
          </button>
        </form>

      </nav>

      <h2 style="text-align: center">Danh sách thành viên</h2>

      <table class="table table-hover table-striped">
        <thead>
        <tr class="table-primary text-center">
          <th scope="col">#</th>
          <th scope="col">Mã thành viên</th>
          <th scope="col">Họ tên</th>
          <th scope="col">Ngày sinh</th>
          <th scope="col">Giới tính</th>
          <th scope="col">Email</th>
          <th scope="col">Số CMND</th>
          <th scope="col">Số điện thoại</th>
          <th scope="col">Địa chỉ</th>
          <th scope="col">Sửa</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let u of userList index as i" class="text-center">
          <td>{{i + 1}}</td>
          <td>{{u.code}}</td>
          <td>{{u.name}}</td>
          <td>{{u.birthday}}</td>
          <td *ngIf="u.gender==1">Nam</td>
          <td *ngIf="u.gender==0">Nữ</td>
          <td>{{u.email}}</td>
          <td>{{u.idCard}}</td>
          <td>{{u.phone}}</td>
          <td>{{u.address}}</td>
          <!--          <td><p *ngIf="u.user">{{u.user.username}}</p></td>-->


          <!--          <td style="text-align: center">-->
          <!--            <button class=" btn-edit btn" style="background: #058af0" [routerLink]="['/user/edit/', u.id]"><i-->
          <!--              class="far fa-edit"></i>-->
          <!--            </button>-->
          <!--          </td>-->

        </tr>

        </tbody>
      </table>
      <div style="text-align: center" *ngIf="errMessage">
        <h2 style="color: red">{{errMessage}}</h2>
      </div>

      <div class="row">
        <div class="col-lg-9">
        </div>
        <div class="col-lg-3">
          <nav aria-label="..." *ngIf="!errMessage" style="float: right">
            <ul class="pagination">
              <li class="page-item">
                <button class="page-link" *ngIf="page > 0" (click)="previousPage()">Trước</button>
              </li>
              <li class="page-item active" aria-current="page">
                <button class="page-link" *ngIf="page < 2 && page == 0" [value]="0" #page1
                        (click)="setPage(page1.value)">1
                </button>
              </li>
              <li class="page-item">
                <button class="page-link" *ngIf="page < 2 && page != 0 " [value]="0" #page2
                        (click)="setPage(page2.value)">1
                </button>
              </li>
              <li class="page-item">
                <button class="page-link" *ngIf="page < 2 && page == 0 && pageUser.totalPages > 1" [value]="1" #page3
                        (click)="setPage(page3.value)">2
                </button>
              </li>
              <li class="page-item active" aria-current="page">
                <button class="page-link" *ngIf="page < 2 && page != 0 && pageUser.totalPages > 1" [value]="1" #page4
                        (click)="setPage(page4.value)">2
                </button>
              </li>
              <li class="page-item">
                <button class="page-link" *ngIf="page < 2 && pageUser.totalPages > 3" [value]="2"
                        #page5 (click)="setPage(page5.value)">3
                </button>
              </li>
              <li class="page-item">
                <button class="page-link" *ngIf="page > 1" [value]="page - 1" #page6
                        (click)="setPage(page6.value)">{{page}}</button>
              </li>
              <li class="page-item active" aria-current="page">
                <button class="page-link" *ngIf="page > 1" [value]="page" #page7
                        (click)="setPage(page7.value)">{{page + 1}}</button>
              </li>
              <li class="page-item">
                <button class="page-link" *ngIf="page < (pageUser.totalPages - 2) && page > 1" [value]="page + 1"
                        #page8 (click)="setPage(page8.value)">{{page + 2}}</button>
              </li>

              <li class="page-item"><p class="page-link" *ngIf="page <  pageUser.totalPages - 3 ">...</p></li>
              <li class="page-item">
                <button class="page-link" *ngIf="page < pageUser.totalPages - 1 && pageUser.totalPages > 2"
                        [value]="pageUser.totalPages - 1" #page9
                        (click)="setPage(page9.value)">{{pageUser.totalPages}}</button>
              </li>
              <li class="page-item">
                <button class="page-link" *ngIf="page + 1 < pageUser.totalPages" (click)="nextPage()">Sau</button>
              </li>
            </ul>
          </nav>
        </div>
      </div>

      <div style="text-align: center ; margin: 10px 0px 10px 0px ">
        <button class=" btn btn-secondary" style="text-align: center" routerLink="/system">Quay lại</button>
      </div>

    </div>
  </div>
</div>




